{"version":3,"sources":["./src/app/drone/components/drone.component.ts","./src/app/drone/components/drone.component.html","./src/app/drone/drone-routing.module.ts","./src/app/drone/drone.module.ts","./src/app/drone/services/drone-audio.service.ts"],"names":[],"mappings":"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","file":"drone-drone-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DroneAudioService } from '../services/drone-audio.service'\nimport { MusicalNote } from '../models/musical-notes'\n\n@Component({\n  selector: 'app-drone',\n  templateUrl: './drone.component.html',\n  styleUrls: ['./drone.component.scss']\n})\nexport class DroneComponent implements OnInit {\n\n  constructor(private droneAudioService:DroneAudioService) { }\n  activeNote?:MusicalNote;\n\n  ngOnInit(): void {\n  }\n\n  ngOnDestroy(): void{\n    this.droneAudioService.stopNote()\n    this.activeNote = null;\n  }\n\n  notes:MusicalNote[] = [\n    {\n      name: 'C',\n      frequency: 261.63\n    }, {\n      name: 'C#',\n      frequency: 277.18\n    }, {\n      name: 'D',\n      frequency: 293.66\n    }, {\n      name: 'D#',\n      frequency: 311.13\n    }, {\n      name: 'E',\n      frequency: 329.63\n    }, {\n      name: 'F',\n      frequency: 349.23\n    }, {\n      name: 'F#',\n      frequency: 369.99\n    }, {\n      name: 'G',\n      frequency: 392\n    }, {\n      name: 'G#',\n      frequency: 415.3\n    }, {\n      name: 'A',\n      frequency: 440\n    }, {\n      name: 'A#',\n      frequency: 466.16\n    }, {\n      name: 'B',\n      frequency: 493.88\n    }\n  ]\n\n  playNote(note){\n    if (note == this.activeNote){\n      this.droneAudioService.stopNote()\n      this.activeNote = null;\n      return\n    }\n    this.activeNote = note;\n    this.droneAudioService.playNote(note.frequency)\n  }\n\n  changeOctave(multiplier:number){\n    this.droneAudioService.changeOctave(multiplier)\n  }\n}","<div class=\"main-container\">\n    <div class=\"note-button-container\">\n        <button *ngFor=\"let note of notes\" class=\"note-button\" (click)=\"playNote(note)\" [ngClass]=\"{'active': note==activeNote}\">{{ note.name }}</button>\n    </div>\n    <div class=\"octave-button-container\">\n        <button class=\"octave-button\" (click)=\"changeOctave(0.5)\">Octave down</button>\n        <button class=\"octave-button\" (click)=\"changeOctave(2)\">Octave up</button>\n    </div>\n    \n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DroneComponent } from './components/drone.component';\n\nconst routes: Routes = [{ path: '', component: DroneComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DroneRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DroneRoutingModule } from './drone-routing.module';\nimport { DroneComponent } from './components/drone.component';\n\n\n@NgModule({\n  declarations: [DroneComponent],\n  imports: [\n    CommonModule,\n    DroneRoutingModule\n  ]\n})\nexport class DroneModule { }\n","import { Injectable } from '@angular/core';\nimport { AudioContext } from 'angular-audio-context';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DroneAudioService {\n\n  constructor(private audioContext: AudioContext) { }\n  lastFreq:number\n  lastOsc:any;\n  octave:number = 1;\n  minOctave:number = 0.5;\n  maxOctave:number = 4;\n\n  stopNote(){\n    // temp vars\n    if (this.lastOsc){\n      this.lastOsc.stop()\n      this.lastOsc = null\n    }\n  }\n\n  playNote(freq:number=this.lastFreq){\n    this.lastFreq = freq;\n    this.stopNote();\n    let osc = this.audioContext.createOscillator();\n    this.lastOsc = osc;\n    osc.connect(this.audioContext.destination);\n    osc.frequency.value = freq*this.octave;\n    osc.start(this.audioContext.currentTime);\n  }\n\n  changeOctave(multiplier:number){\n    this.octave = Math.max(Math.min(this.octave*multiplier, this.maxOctave), this.minOctave)\n    if (this.lastOsc){\n      this.playNote()\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///"}