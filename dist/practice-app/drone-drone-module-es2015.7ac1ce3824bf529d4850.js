(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{SSAR:function(t,n,e){"use strict";e.r(n),e.d(n,"DroneModule",(function(){return f}));var o=e("ofXK"),c=e("tyNb"),i=e("fXoL"),a=e("/wuz");let s=(()=>{class t{constructor(t){this.audioContext=t,this.octave=1,this.minOctave=.5,this.maxOctave=4}stopNote(){this.lastOsc&&(this.lastOsc.stop(),this.lastOsc=null)}playNote(t=this.lastFreq){this.lastFreq=t,this.stopNote();let n=this.audioContext.createOscillator();this.lastOsc=n,n.connect(this.audioContext.destination),n.frequency.value=t*this.octave,n.start(this.audioContext.currentTime)}changeOctave(t){this.octave=Math.max(Math.min(this.octave*t,this.maxOctave),this.minOctave),this.lastOsc&&this.playNote()}}return t.\u0275fac=function(n){return new(n||t)(i.Sb(a.a))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const r=function(t){return{active:t}};function u(t,n){if(1&t){const t=i.Pb();i.Ob(0,"button",5),i.Vb("click",(function(){i.fc(t);const e=n.$implicit;return i.Xb().playNote(e)})),i.mc(1),i.Nb()}if(2&t){const t=n.$implicit,e=i.Xb();i.ac("ngClass",i.bc(2,r,t==e.activeNote)),i.Bb(1),i.nc(t.name)}}const h=[{path:"",component:(()=>{class t{constructor(t){this.droneAudioService=t,this.notes=[{name:"C",frequency:261.63},{name:"C#",frequency:277.18},{name:"D",frequency:293.66},{name:"D#",frequency:311.13},{name:"E",frequency:329.63},{name:"F",frequency:349.23},{name:"F#",frequency:369.99},{name:"G",frequency:392},{name:"G#",frequency:415.3},{name:"A",frequency:440},{name:"A#",frequency:466.16},{name:"B",frequency:493.88}]}ngOnInit(){}ngOnDestroy(){this.droneAudioService.stopNote(),this.activeNote=null}playNote(t){if(t==this.activeNote)return this.droneAudioService.stopNote(),void(this.activeNote=null);this.activeNote=t,this.droneAudioService.playNote(t.frequency)}changeOctave(t){this.droneAudioService.changeOctave(t)}}return t.\u0275fac=function(n){return new(n||t)(i.Lb(s))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-drone"]],decls:8,vars:1,consts:[[1,"main-container"],[1,"note-button-container"],["class","note-button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"octave-button-container"],[1,"octave-button",3,"click"],[1,"note-button",3,"ngClass","click"]],template:function(t,n){1&t&&(i.Ob(0,"div",0),i.Ob(1,"div",1),i.lc(2,u,2,4,"button",2),i.Nb(),i.Ob(3,"div",3),i.Ob(4,"button",4),i.Vb("click",(function(){return n.changeOctave(.5)})),i.mc(5,"Octave down"),i.Nb(),i.Ob(6,"button",4),i.Vb("click",(function(){return n.changeOctave(2)})),i.mc(7,"Octave up"),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.Bb(2),i.ac("ngForOf",n.notes))},directives:[o.i,o.h],styles:[".main-container[_ngcontent-%COMP%]{width:100%;height:90%;display:flexbox;align-items:center;justify-content:center}button[_ngcontent-%COMP%]{background-color:#fff;font-weight:lighter;border:#fff}button.active[_ngcontent-%COMP%]{font-weight:700}.note-button-container[_ngcontent-%COMP%]{margin:auto;width:80%;height:80%}.note-button[_ngcontent-%COMP%]{display:inline-block;width:33.33%;width:calc(100% / 3);line-height:25%;height:calc(100% / 4);font-size:5vw}.octave-button-container[_ngcontent-%COMP%]{width:100%;height:20%}.octave-button[_ngcontent-%COMP%]{width:33.33%;width:calc(100% / 2);line-height:25%;height:calc(100%);font-size:3vw}@media screen and (max-width:600px){.octave-button[_ngcontent-%COMP%]{font-size:5vw}.note-button[_ngcontent-%COMP%]{font-size:10vw}}"]}),t})()}];let l=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(n){return new(n||t)},imports:[[c.d.forChild(h)],c.d]}),t})(),f=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(n){return new(n||t)},imports:[[o.b,l]]}),t})()}}]);